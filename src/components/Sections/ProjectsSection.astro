---
import ProjectCard from '@/components/Cards/ProjectCard.astro';
import Link from '@/components/Link.astro';
import { getCollection } from 'astro:content';
import { getFeaturedProjectsInOrder } from '@/configs/projects.ts';
const allProjects = await getCollection('projects');
const featuredProjects = getFeaturedProjectsInOrder(allProjects);
---

<>
  {
    featuredProjects.map((project) => (
      <ProjectCard
        class="projects-list__item"
        title={project.data.title}
        description={project.data.description}
        imagesrc={project.data.cover}
        imageAlt={project.data.coverAlt}
        github={project.data.github}
        devpost={project.data.devpost}
        liveLink={project.data.liveLink}
        postLink={project.data.postLink}
        tags={project.data.tags}
      />
    ))
  }
  <p>
    <Link url="/projects" name="View more projects" />
  </p>
</>
